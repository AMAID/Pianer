<link rel="import" href="../../../bower_components/polymer/polymer.html">

<polymer-element name="recent-orders">
    <template>
        <core-header-panel id="hPanel" flex>
            <core-toolbar><span flex>Variable height images</span></core-toolbar>
            <core-list id="list" data="{{data}}" flex>
                <template>
                    <div class="item">
                        <core-image class="image" src="{{model.image.src}}" width="{{model.image.width}}" height="{{model.image.height}}" preload></core-image>
                    </div>
                </template>
            </core-list>
        </core-header-panel>
    </template>

    <script>
        Polymer({
            ready: function () {
                this.data = [];

                for (var i = 0; i < 100; i++) {
                    this.data.push({
                        image: this.randomImg()
                    });
                }
                this.$.list.scrollTarget = this.$.hPanel.scroller;
            },
            randomImg: function () {
                var width = '350';
                var height = Math.ceil(Math.random() * (360 - 200) + 200);

                return {
                    src: 'http://lorempixel.com/' + width + '/' + height,
                    width: width + 'px',
                    height: height + 'px'
                }
            }
        });
    </script>

</polymer-element>